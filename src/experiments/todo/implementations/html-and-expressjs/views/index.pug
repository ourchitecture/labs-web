extends layout

block content
  header
    h1=title
    if todos.length > 0
      form(method="POST",action="/todos/toggle-completed")
        button(type="submit",id="toggle-completed",name="toggle-completed") Toggle completed
    form(method="POST",action="/todos/create")
      input(name="new-todo",placeholder="What needs to be done?",value="",autofocus,aria-label="New todo")
    if error
      div(data-testid="error",class="error")= error
  main
    if todos.length > 0
      section(data-testid="main")
        ul
          each todo in todos
            li(data-id=todo.id)
              label(for="todo-"+todo.id)
                input(type="checkbox",id="todo-"+todo.id,name="todo-"+todo.id,checked=todo.isCompleted)
                span #{todo.text}
  if todos.length > 0
    footer(data-testid="footer") Some footer content
